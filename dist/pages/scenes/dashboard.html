<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>仪表板嵌入</title>
	<link rel="stylesheet" href="../../styles/scenes/index.css">
	<link rel="stylesheet" href="../../styles/scenes/dashboard.css">
</head>

<body>
	<div class="scene-header">
		<div class="scene-header-left">
			<img class="scene-header-icon" src="../../images/home-white.svg" />
			<span>我的门户</span>
			<div id="dashboard" class="scene-header-dropdown">
				<div class="scene-header-dropdown-title">
					<span id="scene-header-dropdown-text" class="scene-header-dropdown-text">省电力公司电网资产监管中心</span>
					<img class="scene-header-dropdown-icon" src="../../images/下拉箭头.svg" />
				</div>
				<div id="scene-header-dropdown-option-panel" class="scene-header-dropdown-option-panel">
					<div id="01130402-b444-4373-9098-a2a351422417" class="scene-header-dropdown-option dashboard-option">省电力公司电网资产监管中心</div>
					<div id="5f2de284-68ba-4753-bc95-6d2b65a54443" class="scene-header-dropdown-option dashboard-option">制造业综合管理</div>
					<div id="a847e7c2-9c15-416e-a01f-5f0b429faa4c" class="scene-header-dropdown-option dashboard-option">生产设备监控中心</div>
				</div>
			</div>
		</div>
		<div class="scene-header-right">
			<img class="scene-header-icon" src="../../images/通知.svg" />
			<img class="scene-header-icon" src="../../images/日历.svg" />
			<img class="scene-header-icon" src="../../images/帮助.svg" />
			<div class="scene-header-split"></div>
			<img class="scene-header-icon" src="../../images/用户24.svg" />
			我的账户
		</div>
	</div>
	<div class="scene-content scene-content">
		<iframe id="scene-iframe" class="scene-iframe"
			src="http://wynwx.grapecity.com.cn/wyn/dashboards/view/01130402-b444-4373-9098-a2a351422417?theme=Playground&token=97A4D8D68499E6B1AEBFCFEF503D10B62DB23FEE10183E20B8EFF009ED0404BA"></iframe>
	</div>
	<script src="../../js/utils.js"></script>
	<script>
		let expand = false;
		const changeDropdownStatus = () => {
			if (expand) {
				document.getElementById("scene-header-dropdown-option-panel").classList.remove("expand");
			} else {
				document.getElementById("scene-header-dropdown-option-panel").classList.add("expand");
			}
			expand = !expand;
		}
		document.getElementById("dashboard").addEventListener("click", changeDropdownStatus);

		let selected = 0;
		const map = {
			"01130402-b444-4373-9098-a2a351422417": "省电力公司电网资产监管中心",
			"5f2de284-68ba-4753-bc95-6d2b65a54443": "制造业综合管理",
			"a847e7c2-9c15-416e-a01f-5f0b429faa4c": "生产设备监控中心",
		}
		const changeDashboard = (e) => {
			const id = e.target.id;
			if (selected === id) return;
			document.getElementById("scene-header-dropdown-text").innerHTML = map[id];
			document.getElementById("scene-iframe").src = `${baseUrl}/dashboards/view/${id}?theme=blue&lng=zh&token=${token}`;
			selected = id;
		}

		document.getElementById("01130402-b444-4373-9098-a2a351422417").addEventListener("click", changeDashboard);
		document.getElementById("5f2de284-68ba-4753-bc95-6d2b65a54443").addEventListener("click", changeDashboard);
		document.getElementById("a847e7c2-9c15-416e-a01f-5f0b429faa4c").addEventListener("click", changeDashboard);
	</script>
</body>

</html>