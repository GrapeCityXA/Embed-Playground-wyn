<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>设计器初始化控制</title>
	<link rel="stylesheet" href="../../../styles/solutions/index.css">
</head>

<body>
	<div class="solution-header">
		<div class="solution-header-left">
			<div class="solution-title"><img class="header-icon" src="../../../images/sidebar/div.svg" />DIV集成-设计器初始化控制
			</div>
			<div class="solution-description">用户可以通过DIV的原生方式，将仪表板设计器直接嵌入业务系统，并初始化部分设计器元素，实现快速创建仪表板。
			</div>
		</div>
		<div class="solution-header-right"><a href="https://help.grapecity.com.cn/pages/viewpage.action?pageId=71039657"
				target="_blank">帮助文档</a></div>
	</div>
	<div id="solution-content" class="solution-content">
		<!-- <div id="solution-designer-content" class="solution-div"></div> -->
	</div>
	<div class="solution-code-panel">
		<div class="solution-code-panel-header">
			<input id="expand-code" type="button" class="solution-code-button" value="展开代码" onclick="expandCode()" />
		</div>
	</div >

	<div id="code-dialog-div" class="solution-code-mask hide-code-dialog">
		<div class="solution-code-dialog">
			<div class="solution-code-dialog-header">
				设计器初始化控制
				<div class="solution-code-dialog-close-button" onclick="closeDialog()"><img src="../../../images/关闭.svg" /></div>
			</div>
			<textarea id="dialog-code">
<link rel="stylesheet" href="../../../styles/dashboard/standard/dashboard.vendor.css">
<link rel="stylesheet" href="../../../styles/dashboard/standard/dashboard.app.css">
<script src="../../../js/dashboard/polyfills.js"></script>
<script src="../../../js/dashboard/dashboard.libs.common.js"></script>
<script src="../../../js/dashboard/dashboard.libs.sheet.js"></script>
<script src="../../../js/dashboard/dashboard.libs.chart.js"></script>
<script src="../../../js/dashboard/standard/dashboard.app.js"></script>
<script src="../../../js/dashboard/standard/dashboard.libs.extension.js"></script>
<div id="dashboard"></div>
<script>
	const designer = WynBi.create("DashboardDesigner", {
		lng: 'zh',
		baseUrl: { baseUrl },
		token: { token },
		datasetId: { datasetId },
	});
	designer.initialize({
		container: document.querySelector("#dashboard"),
	});
<script />
			</textarea>
			<div class="code-dialog-footer">
				<input id="copy-code" type="button" class="code-button" value="复制代码" onclick="copyCode()" />
			</div>
		</div>
	</div>

	<script src="../../../js/codeMirror.js"></script>
	<script src="../../../js/utils.js"></script>

	<link rel="stylesheet" href="../../../styles/dashboard/standard/dashboard.vendor.css">
	<link rel="stylesheet" href="../../../styles/dashboard/standard/dashboard.app.css">
	<script src="../../../js/dashboard/polyfills.js"></script>
	<script src="../../../js/dashboard/dashboard.libs.common.js"></script>
	<script src="../../../js/dashboard/dashboard.libs.sheet.js"></script>
	<script src="../../../js/dashboard/dashboard.libs.chart.js"></script>
	<script src="../../../js/dashboard/standard/dashboard.app.js"></script>
	<script src="../../../js/dashboard/standard/dashboard.libs.extension.js"></script>

	<link href="../../../styles/codemirror/codemirror.css" rel="stylesheet" type="text/css">
	<link href="../../../styles/codemirror/monokai.css" rel="stylesheet" type="text/css">
	<link href="../../../styles/codemirror/fullscreen.css" rel="stylesheet" type="text/css">

	<!-- 引入CodeMirror核心文件 -->
	<script type="text/javascript" src="../../../js/codemirror/codemirror.js"></script>

	<!-- CodeMirror支持不同语言，根据需要引入JS文件 -->
	<!-- 因为HTML混合语言依赖Javascript、XML、CSS语言支持，所以都要引入 -->
	<script type="text/javascript" src="../../../js/codemirror/javascript.js"></script>
	<script type="text/javascript" src="../../../js/codemirror/xml.js"></script>
	<script type="text/javascript" src="../../../js/codemirror/css.js"></script>
	<script type="text/javascript" src="../../../js/codemirror/htmlmixed.js"></script>

	<!-- 下面分别为显示行数、括号匹配和全屏插件 -->
	<script type="text/javascript" src="../../../js/codemirror/active-line.js"></script>
	<script type="text/javascript" src="../../../js/codemirror/fullscreen.js"></script>
	<script>


		editor = undefined;
		const designer = WynBi.create("DashboardDesigner", solutionDivInitDesigner);
		designer.initialize({
			container: document.querySelector("#solution-content"),
			onClose: () => {
				console.log("close");
			},
			onSave: (docName) => {
				console.log("save", docName);
			},
			onLoaded: (docName) => {
				console.log("loaded", docName);
			},
		});
	</script>
</body>

</html>